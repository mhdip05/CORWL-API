"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[433],{433:(Bt,N,d)=>{d.r(N),d.d(N,{EmployeeModule:()=>St});var p=d(9808),u=d(7003),se=d(3599),M=d(7965),e=d(5e3),c=d(6354),g=d(9783),b=d(5591),R=d(3725);class F{constructor(){this.bloodGroup=[{bloodGroup:"A+"},{bloodGroup:"A-"},{bloodGroup:"B+"},{bloodGroup:"B-"},{bloodGroup:"O+"},{bloodGroup:"O-"},{bloodGroup:"AB+"},{bloodGroup:"AB-"}],this.maritalStatus=[{maritalStatus:"Single"},{maritalStatus:"Married"}],this.gender=[{gender:"Male"},{gender:"Female"},{gender:"Other"}],this.idType=[{idType:"Voter Id"},{idType:"Registration Card"},{idType:"Driving Licence"},{idType:"Passport"},{idType:"School/College Id"},{idType:"Cirtificate No"}],this.staffGrade=[{staffGrade:1},{staffGrade:2},{staffGrade:3},{staffGrade:4},{staffGrade:5},{staffGrade:6},{staffGrade:7}],this.reportingMethod=[{reportingMethod:"Direct"},{reportingMethod:"Indirect"}]}}var m=d(8746);let q=(()=>{class n{constructor(){this.today=new Date,this.subTractYears=(t,o)=>(t.setFullYear(t.getFullYear()-o),t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=d(2382),v=d(1424),w=d(7921),E=d(5652),y=d(4036),Q=d(7237),f=d(845),h=d(5787),Z=d(9455),de=d(5521),re=d(6235),pe=d(1752);let C=(()=>{class n{constructor(){this.url="",this.reset=new e.vpe,this.validationReset=new e.vpe,this.help=new e.vpe}ngOnInit(){}onReset(){this.reset.emit()}onValidationReset(){this.validationReset.emit()}onHelp(){this.help.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-utility-box"]],inputs:{url:"url"},outputs:{reset:"reset",validationReset:"validationReset",help:"help"},decls:5,vars:1,consts:[[1,"utility-box"],[1,"utility",3,"click"],[1,"utility",3,"url"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"app-reset",1),e.NdJ("click",function(){return o.onReset()}),e.qZA(),e.TgZ(2,"app-validation-reset",1),e.NdJ("click",function(){return o.onValidationReset()}),e.qZA(),e.TgZ(3,"app-content-help",1),e.NdJ("click",function(){return o.onHelp()}),e.qZA(),e._UZ(4,"app-back",2),e.qZA()),2&t&&(e.xp6(4),e.Q6J("url",o.url))},directives:[Z.f,de.n,re.x,pe.A],styles:[""]}),n})();function me(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.customModel.isAmend?i.editEmployeeBasicInfo():i.saveEmployeeBasicInfo()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("label",t.customModel.editMode?"Edit":"Submit")("disabled",t.customModel.disabled)}}function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"span",34)(3,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().addMoreDetails()}),e.qZA(),e.TgZ(4,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e.qZA()()()()}}const k=function(n,a){return{companyName:n,companyId:a}},ue=function(n){return[n]};let ge=(()=>{class n{constructor(t,o,i,l,_,B){this.dateTimeService=t,this.employeeService=o,this.messageService=i,this.utilService=l,this.router=_,this.activatedRoute=B,this.customModel=new M.B,this.employeeModel=new F,this.maxDate=this.dateTimeService.subTractYears(new Date,15),this.isDataSaved=!1,this.employeeId=0}ngOnInit(){void 0!==this.activatedRoute.snapshot.params.id&&(this.isDataSaved=!1,this.customModel.editMode=!0,this.customModel.isAmend=!0,this.getEmployeeBasicInfo())}saveEmployeeBasicInfo(){this.customModel.disabled=!0,this.employeeService.saveEmployeeBasicInfo(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.employeeId=t.data.id,this.messageService.add(this.utilService.successMessage(t.message,3e3)),this.isDataSaved=!0},error:t=>{this.displayError(t)}})}getEmployeeBasicInfo(){this.employeeService.getEmployeeBasicInfo(this.activatedRoute.snapshot.params.id).subscribe({next:t=>{this.customModel.viewData(t),this.customModel.editModel=t},error:t=>{400==t.status&&this.router.navigateByUrl("/404")}})}editEmployeeBasicInfo(){this.customModel.disabled=!0,this.employeeService.updateEmployeeBasicInfo(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.customModel.editModel=t.data,this.messageService.add(this.utilService.successMessage(t.message,3e3))},error:t=>{this.displayError(t)}})}addMoreDetails(){this.router.navigateByUrl("employee/edit-employee/"+this.employeeId)}cancel(){this.isDataSaved=!1}displayError(t){const o=this.customModel.handleError(t);o.isDbError&&this.messageService.add(this.utilService.dangerMessage(o.dbError,4e3))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q),e.Y36(b.G),e.Y36(g.ez),e.Y36(c.F),e.Y36(u.F0),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-basic-info"]],decls:72,vars:78,consts:[["autocomplete","off"],[1,"row"],[1,"custom-group"],[1,"custom-group-title"],["for","firstName"],[1,"p-float-label"],["type","text","pInputText","","name","firstName",3,"ngModel","ngModelChange","blur"],[3,"hasValidation","validationModel"],["for","lastName"],["type","text","pInputText","","name","lastName",3,"ngModel","ngModelChange","blur"],["for","Dob"],["name","dob","dateFormat","dd/mm/yy",3,"ngModel","showIcon","maxDate","ngModelChange","onBlur"],["for","gender"],["placeholder","Select Gender","optionLabel","gender","optionValue","gender",3,"options","ngModel","name","showClear","ngModelChange","onBlur"],[1,"custom-group-clear",2,"margin-top","12px"],["for","bloodGroup"],["optionLabel","bloodGroup","optionValue","bloodGroup","placeholder","Select Blood Group",3,"options","ngModel","name","showClear","ngModelChange"],["for","maritalStatus"],["optionLabel","maritalStatus","optionValue","maritalStatus","placeholder","Select Marital Status",3,"options","ngModel","name","autoDisplayFirst","showClear","ngModelChange","onBlur"],[1,"custom-group-clear",2,"margin-top","5px"],[1,"custom-group",2,"margin-top","8px"],["for","companyName"],[3,"companies","selectedCompany","changeCompany","onBlur"],["optionLabel","idType","optionValue","idType","placeholder","Select Id Type",3,"options","ngModel","name","showClear","ngModelChange","onBlur"],["for","idNo"],["type","text","pInputText","","name","idNo",3,"ngModel","ngModelChange","blur"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12","col-xs-12"],[1,"d-grid"],["pButton","","pRipple","","class","p-button",3,"label","disabled","click",4,"ngIf"],["class","col-xl-8 col-lg-8 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],[3,"url","reset","validationReset"],["pButton","","pRipple","",1,"p-button",3,"label","disabled","click"],[1,"col-xl-8","col-lg-8","col-md-12","col-sm-12","col-xs-12"],[1,"col","d-flex","justify-content-center"],[1,"p-buttonset"],["pButton","","pRipple","","label","Add More Details",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","Cancel",1,"p-button-warning",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"General Info"),e.qZA()(),e.TgZ(5,"div")(6,"label",4),e._uU(7,"First Name"),e.qZA(),e.TgZ(8,"span",5)(9,"input",6),e.NdJ("ngModelChange",function(l){return o.customModel.model.firstName=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"FirstName")}),e.qZA()(),e._UZ(10,"app-error-validation",7),e.qZA(),e.TgZ(11,"div")(12,"label",8),e._uU(13,"Last Name"),e.qZA(),e.TgZ(14,"span",5)(15,"input",9),e.NdJ("ngModelChange",function(l){return o.customModel.model.lastName=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"LastName")}),e.qZA()(),e._UZ(16,"app-error-validation",7),e.qZA(),e.TgZ(17,"div")(18,"label",10),e._uU(19,"Date of Birth "),e.qZA(),e.TgZ(20,"span",5)(21,"p-calendar",11),e.NdJ("ngModelChange",function(l){return o.customModel.model.dob=l})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"Dob")}),e.qZA()(),e._UZ(22,"app-error-validation",7),e.qZA(),e.TgZ(23,"div")(24,"label",12),e._uU(25,"Gender"),e.qZA(),e.TgZ(26,"span",5)(27,"p-dropdown",13),e.NdJ("ngModelChange",function(l){return o.customModel.model.gender=l})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"Gender",!0,"gender")}),e.qZA()(),e._UZ(28,"app-error-validation",7),e.qZA(),e._UZ(29,"div",14),e.TgZ(30,"div")(31,"label",15),e._uU(32,"Blood Group"),e.qZA(),e.TgZ(33,"span",5)(34,"p-dropdown",16),e.NdJ("ngModelChange",function(l){return o.customModel.model.bloodGroup=l}),e.qZA()(),e._UZ(35,"app-error-validation",7),e.qZA(),e.TgZ(36,"div")(37,"label",17),e._uU(38,"Marital Status"),e.qZA(),e.TgZ(39,"span",5)(40,"p-dropdown",18),e.NdJ("ngModelChange",function(l){return o.customModel.model.maritalStatus=l})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"MaritalStatus",!0,"maritalStatus")}),e.qZA()(),e._UZ(41,"app-error-validation",7),e.qZA(),e._UZ(42,"div",19),e.TgZ(43,"div",20)(44,"p",3),e._uU(45,"Identification"),e.qZA()(),e.TgZ(46,"div")(47,"label",21),e._uU(48,"Company"),e.qZA(),e.TgZ(49,"span",5)(50,"app-company-dropdown",22),e.NdJ("changeCompany",function(l){return o.customModel.changeDropdown(l)})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"CompanyId",!0,"companyId")}),e.qZA()(),e._UZ(51,"app-error-validation",7),e.qZA(),e.TgZ(52,"div")(53,"label"),e._uU(54,"Id Type"),e.qZA(),e.TgZ(55,"span",5)(56,"p-dropdown",23),e.NdJ("ngModelChange",function(l){return o.customModel.model.idType=l})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"IdType",!0,"idType")}),e.qZA()(),e._UZ(57,"app-error-validation",7),e.qZA(),e.TgZ(58,"div")(59,"label",24),e._uU(60,"ID No"),e.qZA(),e.TgZ(61,"span",5)(62,"input",25),e.NdJ("ngModelChange",function(l){return o.customModel.model.idNo=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"IdNo")}),e.qZA()(),e._UZ(63,"app-error-validation",7),e.qZA()(),e._UZ(64,"hr"),e.TgZ(65,"div",1)(66,"div",26)(67,"div",27),e.YNc(68,me,1,2,"button",28),e.qZA()(),e.YNc(69,ce,5,0,"div",29),e.qZA(),e._UZ(70,"hr"),e.TgZ(71,"app-utility-box",30),e.NdJ("reset",function(){return o.customModel.editMode?o.customModel.reset(!0):o.customModel.resetAll()})("validationReset",function(){return o.customModel.validationReset()}),e.qZA()()),2&t&&(e.xp6(5),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Tol("form-control form-control-sm"),e.Q6J("ngModel",o.customModel.model.firstName),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.FirstName),e.xp6(1),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Tol("form-control form-control-sm"),e.Q6J("ngModel",o.customModel.model.lastName),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.LastName),e.xp6(1),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Q6J("ngModel",o.customModel.model.dob)("showIcon",!0)("maxDate",o.maxDate),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.Dob),e.xp6(1),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Q6J("options",o.employeeModel.gender)("ngModel",o.customModel.model.gender)("name","gender")("showClear",!0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.Gender),e.xp6(2),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Q6J("options",o.employeeModel.bloodGroup)("ngModel",o.customModel.model.bloodGroup)("name","bloodGroup")("showClear",!0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.BloodGroup),e.xp6(1),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Q6J("options",o.employeeModel.maritalStatus)("ngModel",o.customModel.model.maritalStatus)("name","maritalStatus")("autoDisplayFirst",!1)("showClear",!0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.MaritalStatus),e.xp6(5),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Q6J("companies",e.VKq(73,ue,e.WLB(70,k,o.customModel.model.companyName,o.customModel.model.companyId)))("selectedCompany",o.customModel.editMode?e.WLB(75,k,o.customModel.model.companyName,o.customModel.model.companyId):void 0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.CompanyId),e.xp6(1),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Q6J("options",o.employeeModel.idType)("ngModel",o.customModel.model.idType)("name","idType")("showClear",!0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.IdType),e.xp6(1),e.Tol("col-xl-3 col-lg-6 col-md-12 col-sm-12 col-xs-12"),e.xp6(4),e.Tol("form-control form-control-sm"),e.Q6J("ngModel",o.customModel.model.idNo),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.IdNo),e.xp6(5),e.Q6J("ngIf",0==o.isDataSaved),e.xp6(1),e.Q6J("ngIf",o.isDataSaved),e.xp6(2),e.Q6J("url","employee/employee-list"))},directives:[s._Y,s.JL,s.F,s.Fj,v.o,s.JJ,s.On,w.k,E.f,y.Lt,Q._,p.O5,f.Hq,h.H,C],styles:[""]}),n})();var J=d(7131),S=d(9300),x=d(5698),he=d(2288);function _e(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",4),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedBranch.branchName)}}function fe(n,a){if(1&n&&e.YNc(0,_e,3,1,"div",3),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedBranch)}}function Me(n,a){if(1&n&&(e.TgZ(0,"div",5)(1,"div",6),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.branchName)}}let ve=(()=>{class n{constructor(t,o){this.branchService=t,this.utilService=o,this.showClear=!0,this.currentbranches=[],this.emptyMessage="No Record Found",this.branches=[],this.disabledBranch=!1,this.load=!1,this.applyDefaultText=!1,this.changeBranch=new e.vpe,this.onBlur=new e.vpe}ngOnInit(){this.showClear=!1}onChange(){if(null==this.selectedBranch)return this.showClear=!1,this.selectedBranch={BranchName:null,BranchId:0},void this.changeBranch.emit(this.selectedBranch);this.showClear=!0,this.changeBranch.emit(this.selectedBranch)}onBlurEvent(t){this.onBlur.emit(t)}onShow(){this.currentbranches.length>0?this.branches=this.currentbranches:this.branchService.getBranchDropdown().pipe((0,S.h)(t=>t.length>0),(0,x.q)(1)).subscribe({next:t=>{let o=[];1==this.applyDefaultText&&(o=[{branchName:this.utilService.dropdownDefaultText(),branchId:-1}]),this.branches=[...o,...t],this.currentbranches=[...o,...t]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(he.b),e.Y36(c.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-branch-dropdown"]],inputs:{branches:"branches",disabledBranch:"disabledBranch",load:"load",selectedBranch:"selectedBranch",applyDefaultText:"applyDefaultText"},outputs:{changeBranch:"changeBranch",onBlur:"onBlur"},decls:3,vars:6,consts:[["optionLabel","branchName","placeholder","Select branch",3,"options","ngModel","showClear","emptyMessage","autoDisplayFirst","filter","ngModelChange","onShow","onChange","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[4,"ngIf"],[1,"dropdown-selected-item"],[1,"dropdown-text"],["id","branch-dropdown"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("ngModelChange",function(l){return o.selectedBranch=l})("onShow",function(){return o.onShow()})("onChange",function(){return o.onChange()})("onBlur",function(l){return o.onBlurEvent(l)}),e.YNc(1,fe,1,1,"ng-template",1),e.YNc(2,Me,3,1,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",o.branches)("ngModel",o.selectedBranch)("showClear",o.showClear)("emptyMessage",o.emptyMessage)("autoDisplayFirst",!1)("filter",!0)},directives:[y.Lt,s.JJ,s.On,g.jx,p.O5],styles:[""]}),n})();var r=d(2340),U=d(520);let L=(()=>{class n{constructor(t){this.http=t}getAllDepartment(){return this.http.get(r.N.apiUrl+"department/getAllDepartment")}getDepartmentDropdown(){return this.http.get(r.N.apiUrl+"department/GetDepartmentDropdown")}addDepartment(t){return this.http.post(r.N.apiUrl+"department/AddDepartment",t)}getDepartmentById(t){return this.http.get(r.N.apiUrl+"department/GetDepartmentById/"+t)}updateDepartment(t){return this.http.put(r.N.apiUrl+"department/UpdateDepartment",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(U.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function be(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",4),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.selectedDepartment.departmentName," ")}}function ye(n,a){if(1&n&&e.YNc(0,be,3,1,"div",3),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedDepartment)}}function Ce(n,a){if(1&n&&(e.TgZ(0,"div",5)(1,"div",6),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.departmentName)}}let O=(()=>{class n{constructor(t,o){this.departmentService=t,this.utilService=o,this.showClear=!0,this.currentdepartments=[],this.emptyMessage="No Record Found",this.departments=[],this.disabledDepartment=!1,this.load=!1,this.applyDefaultText=!1,this.changeDepartment=new e.vpe,this.onBlur=new e.vpe}ngOnInit(){this.showClear=!1}onChange(){if(null==this.selectedDepartment)return this.showClear=!1,this.selectedDepartment={DepartmentName:null,DepartmentId:0},void this.changeDepartment.emit(this.selectedDepartment);this.showClear=!0,this.changeDepartment.emit(this.selectedDepartment)}onBlurEvent(t){this.onBlur.emit(t)}onShow(){this.currentdepartments.length>0?this.departments=this.currentdepartments:this.departmentService.getDepartmentDropdown().pipe((0,S.h)(t=>t.length>0),(0,x.q)(1)).subscribe({next:t=>{let o=[];1==this.applyDefaultText&&(o=[{departmentName:this.utilService.dropdownDefaultText(),departmentId:-1}]),this.departments=[...o,...t],this.currentdepartments=[...o,...t]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L),e.Y36(c.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-department-dropdown"]],inputs:{departments:"departments",disabledDepartment:"disabledDepartment",load:"load",selectedDepartment:"selectedDepartment",applyDefaultText:"applyDefaultText"},outputs:{changeDepartment:"changeDepartment",onBlur:"onBlur"},decls:3,vars:6,consts:[["optionLabel","departmentName","placeholder","Select department",3,"options","ngModel","showClear","emptyMessage","autoDisplayFirst","filter","ngModelChange","onShow","onChange","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[4,"ngIf"],[1,"dropdown-selected-item"],[1,"dropdown-text"],["id","department-dropdown"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("ngModelChange",function(l){return o.selectedDepartment=l})("onShow",function(){return o.onShow()})("onChange",function(){return o.onChange()})("onBlur",function(l){return o.onBlurEvent(l)}),e.YNc(1,ye,1,1,"ng-template",1),e.YNc(2,Ce,3,1,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",o.departments)("ngModel",o.selectedDepartment)("showClear",o.showClear)("emptyMessage",o.emptyMessage)("autoDisplayFirst",!1)("filter",!0)},directives:[y.Lt,s.JJ,s.On,g.jx,p.O5],styles:[""]}),n})(),V=(()=>{class n{constructor(t){this.http=t}getAllDesignation(){return this.http.get(r.N.apiUrl+"designation/getAllDesignation")}getDesignationDropdown(){return this.http.get(r.N.apiUrl+"designation/GetDesignationDropdown")}addDesignation(t){return this.http.post(r.N.apiUrl+"designation/AddDesignation",t)}getDesignationById(t){return this.http.get(r.N.apiUrl+"designation/GetDesignationById/"+t)}updateDesignation(t){return this.http.put(r.N.apiUrl+"designation/UpdateDesignation",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(U.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function De(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",4),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.selectedDesignation.designationName," ")}}function Te(n,a){if(1&n&&e.YNc(0,De,3,1,"div",3),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedDesignation)}}function we(n,a){if(1&n&&(e.TgZ(0,"div",5)(1,"div",6),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.designationName)}}let Ze=(()=>{class n{constructor(t,o){this.designationService=t,this.utilService=o,this.showClear=!0,this.currentDesignations=[],this.emptyMessage="No Record Found",this.designations=[],this.disabledDesignation=!1,this.load=!1,this.applyDefaultText=!1,this.changeDesignation=new e.vpe,this.onBlur=new e.vpe}ngOnInit(){this.showClear=!1}onChange(){if(null==this.selectedDesignation)return this.showClear=!1,this.selectedDesignation={DesignationName:null,DesignationId:0},void this.changeDesignation.emit(this.selectedDesignation);this.showClear=!0,this.changeDesignation.emit(this.selectedDesignation)}onBlurEvent(t){this.onBlur.emit(t)}onShow(){this.currentDesignations.length>0?this.designations=this.currentDesignations:this.designationService.getDesignationDropdown().pipe((0,S.h)(t=>t.length>0),(0,x.q)(1)).subscribe({next:t=>{let o=[];1==this.applyDefaultText&&(o=[{designationName:this.utilService.dropdownDefaultText(),designationId:-1}]),this.designations=[...o,...t],this.currentDesignations=[...o,...t]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V),e.Y36(c.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-designation-dropdown"]],inputs:{designations:"designations",disabledDesignation:"disabledDesignation",load:"load",selectedDesignation:"selectedDesignation",applyDefaultText:"applyDefaultText"},outputs:{changeDesignation:"changeDesignation",onBlur:"onBlur"},decls:3,vars:5,consts:[["optionLabel","designationName","placeholder","Select designation",3,"options","ngModel","showClear","emptyMessage","filter","ngModelChange","onShow","onChange","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[4,"ngIf"],[1,"dropdown-selected-item"],[1,"dropdown-text"],["id","designation-dropdown"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("ngModelChange",function(l){return o.selectedDesignation=l})("onShow",function(){return o.onShow()})("onChange",function(){return o.onChange()})("onBlur",function(l){return o.onBlurEvent(l)}),e.YNc(1,Te,1,1,"ng-template",1),e.YNc(2,we,3,1,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",o.designations)("ngModel",o.selectedDesignation)("showClear",o.showClear)("emptyMessage",o.emptyMessage)("filter",!0)},directives:[y.Lt,s.JJ,s.On,g.jx,p.O5],styles:[""]}),n})();var G=d(386);const Y=function(n,a){return{companyName:n,companyId:a}},D=function(n){return[n]},P=function(n,a){return{branchName:n,branchId:a}},H=function(n,a){return{departmentName:n,departmentId:a}},z=function(n,a){return{designationName:n,designationId:a}},j=function(n,a){return{employeeName:n,employeeId:a}};let xe=(()=>{class n{constructor(t,o,i,l,_){this.dateTimeService=t,this.employeeService=o,this.messageService=i,this.utilService=l,this.activatedRoute=_,this.customModel=new M.B,this.designModel=new J.R,this.employeeModel=new F,this.isUpdate=!1}ngOnInit(){void 0!==this.activatedRoute.snapshot.params.id&&(this.customModel.editMode=!0,this.customModel.model=Object.assign(Object.assign({},this.customModel.model),{employeeId:this.activatedRoute.snapshot.params.id}),this.getEmployeeJobDetails())}getEmployeeJobDetails(){this.employeeService.getEmployeeJobDetails(this.customModel.model.employeeId).subscribe({next:t=>{null!==t&&(this.customModel.viewData(t),this.customModel.model=t,this.isUpdate=!0)}})}addJobDetails(){this.customModel.disabled=!0,this.employeeService.saveEmployeeJobDetails(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,3e3))},error:t=>{this.displayError(t)}})}updateJobDetails(){console.log(this.customModel.model),this.customModel.disabled=!0,this.employeeService.updateEmployeeJobDetails(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,3e3))},error:t=>{this.displayError(t)}})}displayError(t){const o=this.customModel.handleError(t);o.isDbError&&this.messageService.add(this.utilService.dangerMessage(o.dbError,4e3))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q),e.Y36(b.G),e.Y36(g.ez),e.Y36(c.F),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-job-details"]],decls:68,vars:97,consts:[["autocomplete","off"],[1,"row"],[1,"custom-group"],[1,"custom-group-title"],["for","companyName"],[1,"p-float-label"],[3,"companies","selectedCompany","changeCompany","onBlur"],[3,"hasValidation","validationModel"],["for","branchName"],[3,"branches","selectedBranch","changeBranch","onBlur"],["for","departmentName"],[3,"departments","selectedDepartment","changeDepartment","onBlur"],["for","designationName"],[3,"designations","selectedDesignation","changeDesignation","onBlur"],["for","supervisor"],[3,"employees","selectedEmployee","applyDefaultText","changeEmployee"],[1,"custom-group-clear"],["optionLabel","staffGrade","optionValue","staffGrade","placeholder","Select staff grade",3,"options","ngModel","name","showClear","ngModelChange"],["for","confirmationDate"],["name","'confirmationDate'","dateFormat","dd/mm/yy",3,"ngModel","showIcon","maxDate","ngModelChange","onSelect"],["for","joiningDate"],["name","'joiningDate'","dateFormat","dd/mm/yy",3,"ngModel","showIcon","maxDate","ngModelChange","onSelect"],["for","reportingMethod"],["optionLabel","reportingMethod","optionValue","reportingMethod","placeholder","Select reporting method",3,"options","ngModel","name","showClear","ngModelChange"],[1,"custom-hr"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12","col-xs-12"],[1,"d-grid"],["pButton","","pRipple","","label","Submit",1,"p-button",3,"disabled","click"],["id","getEmployeeJobDetails",3,"hidden","click"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"General Info"),e.qZA()(),e.TgZ(5,"div")(6,"label",4),e._uU(7,"Company"),e.qZA(),e.TgZ(8,"span",5)(9,"app-company-dropdown",6),e.NdJ("changeCompany",function(l){return o.customModel.changeDropdown(l)})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"CompanyId",!0,"companyId")}),e.qZA(),e._UZ(10,"app-error-validation",7),e.qZA()(),e.TgZ(11,"div")(12,"label",8),e._uU(13,"Banch"),e.qZA(),e.TgZ(14,"span",5)(15,"app-branch-dropdown",9),e.NdJ("changeBranch",function(l){return o.customModel.changeDropdown(l)})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"BranchId",!0,"branchId")}),e.qZA(),e._UZ(16,"app-error-validation",7),e.qZA()(),e.TgZ(17,"div")(18,"label",10),e._uU(19,"Department"),e.qZA(),e.TgZ(20,"span",5)(21,"app-department-dropdown",11),e.NdJ("changeDepartment",function(l){return o.customModel.changeDropdown(l)})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"DepartmentId",!0,"departmentId")}),e.qZA(),e._UZ(22,"app-error-validation",7),e.qZA()(),e.TgZ(23,"div")(24,"label",12),e._uU(25,"Designation"),e.qZA(),e.TgZ(26,"span",5)(27,"app-designation-dropdown",13),e.NdJ("changeDesignation",function(l){return o.customModel.changeDropdown(l)})("onBlur",function(l){return o.customModel.removeValidationMsg(l,"DesignationId",!0,"designationId")}),e.qZA(),e._UZ(28,"app-error-validation",7),e.qZA()(),e.TgZ(29,"div")(30,"label",14),e._uU(31,"Supervisor"),e.qZA(),e.TgZ(32,"span",5)(33,"app-employee-dropdown",15),e.NdJ("changeEmployee",function(l){return o.customModel.changeDropdown(l,"supervisorId","supervisorName")}),e.qZA()()(),e._UZ(34,"div",16),e.TgZ(35,"div",2)(36,"p",3),e._uU(37,"Other"),e.qZA()(),e.TgZ(38,"div")(39,"label"),e._uU(40,"Staff Grade"),e.qZA(),e.TgZ(41,"span",5)(42,"p-dropdown",17),e.NdJ("ngModelChange",function(l){return o.customModel.model.staffGrade=l}),e.qZA()()(),e.TgZ(43,"div")(44,"label",18),e._uU(45,"Confirmation Date"),e.qZA(),e.TgZ(46,"span",5)(47,"p-calendar",19),e.NdJ("ngModelChange",function(l){return o.customModel.model.confirmationDate=l})("onSelect",function(l){return o.customModel.removeValidationMsg(l,"ConfirmationDate")}),e.qZA()(),e._UZ(48,"app-error-validation",7),e.qZA(),e.TgZ(49,"div")(50,"label",20),e._uU(51,"Joining Date"),e.qZA(),e.TgZ(52,"span",5)(53,"p-calendar",21),e.NdJ("ngModelChange",function(l){return o.customModel.model.joiningDate=l})("onSelect",function(l){return o.customModel.removeValidationMsg(l,"JoiningDate")}),e.qZA()(),e._UZ(54,"app-error-validation",7),e.qZA(),e.TgZ(55,"div")(56,"label",22),e._uU(57,"Reporting Method"),e.qZA(),e.TgZ(58,"span",5)(59,"p-dropdown",23),e.NdJ("ngModelChange",function(l){return o.customModel.model.reportingMethod=l}),e.qZA()()()(),e._UZ(60,"hr",24),e.TgZ(61,"div",1)(62,"div",25)(63,"div",26)(64,"button",27),e.NdJ("click",function(){return o.isUpdate?o.updateJobDetails():o.addJobDetails()}),e.qZA(),e.TgZ(65,"button",28),e.NdJ("click",function(){return o.getEmployeeJobDetails()}),e.qZA()()()(),e._UZ(66,"hr")(67,"app-utility-box"),e.qZA()),2&t&&(e.xp6(5),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("companies",e.VKq(60,D,e.WLB(57,Y,o.customModel.model.companyName,o.customModel.model.companyId)))("selectedCompany",o.customModel.editMode?e.WLB(62,Y,o.customModel.model.companyName,o.customModel.model.companyId):void 0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.CompanyId),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("branches",e.VKq(68,D,e.WLB(65,P,o.customModel.model.branchName,o.customModel.model.branchId)))("selectedBranch",o.customModel.editMode?e.WLB(70,P,o.customModel.model.branchName,o.customModel.model.branchId):void 0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.BranchId),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("departments",e.VKq(76,D,e.WLB(73,H,o.customModel.model.departmentName,o.customModel.model.departmentId)))("selectedDepartment",o.customModel.editMode?e.WLB(78,H,o.customModel.model.departmentName,o.customModel.model.departmentId):void 0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.DepartmentId),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("designations",e.VKq(84,D,e.WLB(81,z,o.customModel.model.designationName,o.customModel.model.designationId)))("selectedDesignation",o.customModel.editMode?e.WLB(86,z,o.customModel.model.designationName,o.customModel.model.designationId):void 0),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.DesignationId),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("employees",e.VKq(92,D,e.WLB(89,j,o.customModel.model.supervisorName,o.customModel.model.supervisorId)))("selectedEmployee",o.customModel.editMode?e.WLB(94,j,o.customModel.model.supervisorName,o.customModel.model.supervisorId):void 0)("applyDefaultText",!0),e.xp6(5),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("options",o.employeeModel.staffGrade)("ngModel",o.customModel.model.staffGrade)("name","staffGrade")("showClear",!0),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("ngModel",o.customModel.model.confirmationDate)("showIcon",!0)("maxDate",o.dateTimeService.today),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.ConfirmationDate),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("ngModel",o.customModel.model.joiningDate)("showIcon",!0)("maxDate",o.dateTimeService.today),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.JoiningDate),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Q6J("options",o.employeeModel.reportingMethod)("ngModel",o.customModel.model.reportingMethod)("name","reportingMethod")("showClear",!0),e.xp6(5),e.Q6J("disabled",o.customModel.disabled),e.xp6(1),e.Q6J("hidden",!0))},directives:[s._Y,s.JL,s.F,Q._,w.k,ve,O,Ze,G.J,y.Lt,s.JJ,s.On,E.f,f.Hq,h.H,C],styles:[""]}),n})();var Ue=d(3496),Ae=d(5660);let X=(()=>{class n{constructor(t,o){this.http=t,this.paginationServices=o,this.paginatedResult=new Ue.B,this.getUserData=i=>this.http.get(r.N.apiUrl+"user/GetUserData/"+i),this.saveUserData=i=>this.http.post(r.N.apiUrl+"user/SaveUserInfo",i),this.updateUserInfo=i=>this.http.put(r.N.apiUrl+"user/UpdateUserInfo",i),this.updateUserPassword=i=>this.http.put(r.N.apiUrl+"user/UpdateUserPassword",i)}getAllUser(t,o){let i=this.paginationServices.getPaginationHeaders(t,o);return this.paginationServices.getPaginatedResult(r.N.apiUrl+"user/getAllUsers",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(U.eN),e.LFG(Ae.N))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ie=d(8356),W=d(4119),Je=d(5315);function Se(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Be(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Se,2,1,"span",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data)}}const Ne=["*"];let $=(()=>{class n{constructor(){this.position="top",this.header="Title",this.display=!1,this.breakpoints="{'960px': '75vw', '640px': '100vw'}",this.style={width:"40%"},this.data=[],this.hideModal=new e.vpe}ngOnInit(){}onHide(){this.display=!1,this.data=[],this.hideModal.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dialog-modal"]],inputs:{position:"position",header:"header",display:"display",breakpoints:"breakpoints",style:"style",data:"data"},outputs:{hideModal:"hideModal"},ngContentSelectors:Ne,decls:3,vars:10,consts:[[3,"visible","header","breakpoints","modal","dismissableMask","resizable","position","visibleChange","onHide"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(l){return o.display=l})("onHide",function(){return o.onHide()}),e.YNc(1,Be,2,1,"div",1),e.Hsn(2),e.qZA()),2&t&&(e.Akn(o.style),e.Q6J("visible",o.display)("header",o.header)("breakpoints",o.breakpoints)("modal",!0)("dismissableMask",!0)("resizable",!1)("position",o.position),e.xp6(1),e.Q6J("ngIf",o.data.length>0))},directives:[Je.V,p.O5,p.sg],styles:[""]}),n})();function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label",20),e._uU(2,"Password"),e.qZA(),e.TgZ(3,"span",5)(4,"p-password",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().customModel.model.password=i})("onBlur",function(i){return e.CHM(t),e.oxw().customModel.removeValidationMsg(i,"Password")}),e.qZA()(),e._UZ(5,"app-error-validation",7),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.designModel.responsiveClass),e.xp6(4),e.Q6J("ngModel",t.customModel.model.password)("toggleMask",!0),e.xp6(1),e.Q6J("hasValidation",t.customModel.hasValidation)("validationModel",t.customModel.validationModel.Password)}}function Fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label",22),e._uU(2,"Confirm Password"),e.qZA(),e.TgZ(3,"span",5)(4,"p-password",23),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().customModel.model.confirmPassword=i})("onBlur",function(i){return e.CHM(t),e.oxw().customModel.removeValidationMsg(i,"ConfirmPassword")}),e.qZA()(),e._UZ(5,"app-error-validation",7),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.designModel.responsiveClass),e.xp6(4),e.Q6J("ngModel",t.customModel.model.confirmPassword)("toggleMask",!0)("feedback",!1),e.xp6(1),e.Q6J("hasValidation",t.customModel.hasValidation)("validationModel",t.customModel.validationModel.ConfirmPassword)}}function qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().customModel.displayModal=!0}),e.qZA()()()}}const Ee=function(){return{width:"30%"}};function Qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-dialog-modal",25),e.NdJ("hideModal",function(){return e.CHM(t),e.oxw().hidePasswordModal()}),e.TgZ(1,"div")(2,"label",20),e._uU(3,"Password"),e.qZA(),e.TgZ(4,"span",5)(5,"p-password",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().customModel.model.password=i})("onBlur",function(i){return e.CHM(t),e.oxw().customModel.removeValidationMsg(i,"Password")}),e.qZA()(),e._UZ(6,"app-error-validation",7),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div")(9,"label",22),e._uU(10,"Confirm Password"),e.qZA(),e.TgZ(11,"span",5)(12,"p-password",23),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().customModel.model.confirmPassword=i})("onBlur",function(i){return e.CHM(t),e.oxw().customModel.removeValidationMsg(i,"ConfirmPassword")}),e.qZA()(),e._UZ(13,"app-error-validation",7),e.qZA(),e._UZ(14,"hr"),e.TgZ(15,"div",3)(16,"div",26)(17,"div",14)(18,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().updatePassword()}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Akn(e.DdM(18,Ee)),e.Q6J("display",t.customModel.displayModal)("header","Update User Password"),e.xp6(1),e.Tol("col-6"),e.xp6(4),e.Q6J("ngModel",t.customModel.model.password)("toggleMask",!0),e.xp6(1),e.Q6J("hasValidation",t.customModel.hasValidation)("validationModel",t.customModel.validationModel.Password),e.xp6(2),e.Tol("col-6"),e.xp6(4),e.Q6J("ngModel",t.customModel.model.confirmPassword)("toggleMask",!0)("feedback",!1),e.xp6(1),e.Q6J("hasValidation",t.customModel.hasValidation)("validationModel",t.customModel.validationModel.ConfirmPassword),e.xp6(5),e.Q6J("disabled",t.customModel.disabled)}}let ke=(()=>{class n{constructor(t,o,i,l){this.activatedRoute=t,this.utilService=o,this.messageService=i,this.userService=l,this.customModel=new M.B,this.designModel=new J.R,this.isUpdate=!1}ngOnInit(){void 0!==this.activatedRoute.snapshot.params.id&&(this.customModel.model=Object.assign(Object.assign({},this.customModel.model),{employeeId:this.activatedRoute.snapshot.params.id}))}getUserData(){this.userService.getUserData(this.activatedRoute.snapshot.params.id).subscribe({next:t=>{t&&(this.customModel.model=t,this.isUpdate=!0)}})}addUserInfo(){this.customModel.disabled=!0,this.userService.saveUserData(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{1==t.status&&(this.messageService.add(this.utilService.successMessage(t.message,3e3)),this.isUpdate=!0,this.hidePasswordModal())},error:t=>{this.displayError(t)}})}updateUserInfo(){this.customModel.disabled=!0,this.userService.updateUserInfo(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,3e3))},error:t=>{this.displayError(t)}})}updatePassword(){var t={id:this.customModel.model.id,password:this.customModel.model.password,confirmPassword:this.customModel.model.confirmPassword};console.log(t),this.customModel.disabled=!0,this.userService.updateUserPassword(t).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:o=>{this.messageService.add(this.utilService.successMessage(o.message,3e3)),this.hidePasswordModal()},error:o=>{this.displayError(o)}})}hidePasswordModal(){this.customModel.validationReset(),this.customModel.model.password=null,this.customModel.model.confirmPassword=null,this.customModel.displayModal=!1}displayError(t){const o=this.customModel.handleError(t);o.isDbError&&this.messageService.add(this.utilService.dangerMessage(o.dbError,4e3))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(c.F),e.Y36(g.ez),e.Y36(X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-info"]],decls:35,vars:28,consts:[["autocomplete","off"],[1,"custom-group",2,"margin-top","8px"],[1,"custom-group-title"],[1,"row"],["for","username"],[1,"p-float-label"],["type","text","pInputText","","name","userName",3,"ngModel","ngModelChange","blur"],[3,"hasValidation","validationModel"],[3,"class",4,"ngIf"],["for","email"],["type","text","pInputText","","name","email",3,"ngModel","ngModelChange","blur"],["for","phoneNo"],["type","text","pInputText","","name","phoneNumber",3,"ngModel","ngModelChange","blur"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12","col-xs-12"],[1,"d-grid"],["pButton","","pRipple","","label","Submit",1,"p-button",3,"disabled","click"],["id","getUserData",3,"hidden","click"],["class","col-xl-2 col-lg-2 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],[3,"url"],[3,"display","header","style","hideModal",4,"ngIf"],["for","password"],["name","password",3,"ngModel","toggleMask","ngModelChange","onBlur"],["for","confirmPassword"],["name","confirmPassword",3,"ngModel","toggleMask","feedback","ngModelChange","onBlur"],["icon","pi pi-info","pButton","","pRipple","","type","button","pTooltip","Update Password","tooltipPosition","bottom",1,"p-button-rounded","p-button-help",2,"border","2px solid",3,"click"],[3,"display","header","hideModal"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12","col-xs-12"],["pButton","","pRipple","","label","Update",1,"p-button",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"p",2),e._uU(3,"Generl Info"),e.qZA()(),e.TgZ(4,"div",3)(5,"div")(6,"label",4),e._uU(7,"Username"),e.qZA(),e.TgZ(8,"span",5)(9,"input",6),e.NdJ("ngModelChange",function(l){return o.customModel.model.username=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"Username")}),e.qZA()(),e._UZ(10,"app-error-validation",7),e.qZA(),e.YNc(11,Re,6,6,"div",8),e.YNc(12,Fe,6,7,"div",8),e.TgZ(13,"div")(14,"label",9),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"span",5)(17,"input",10),e.NdJ("ngModelChange",function(l){return o.customModel.model.email=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"Email")}),e.qZA()(),e._UZ(18,"app-error-validation",7),e.qZA(),e.TgZ(19,"div")(20,"label",11),e._uU(21,"Primary Phone No"),e.qZA(),e.TgZ(22,"span",5)(23,"input",12),e.NdJ("ngModelChange",function(l){return o.customModel.model.phoneNumber=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"PhoneNumber")}),e.qZA()(),e._UZ(24,"app-error-validation",7),e.qZA()(),e._UZ(25,"hr"),e.TgZ(26,"div",3)(27,"div",13)(28,"div",14)(29,"button",15),e.NdJ("click",function(){return o.isUpdate?o.updateUserInfo():o.addUserInfo()}),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.getUserData()}),e.qZA()()(),e.YNc(31,qe,3,0,"div",17),e.qZA(),e._UZ(32,"hr")(33,"app-utility-box",18),e.qZA(),e.YNc(34,Qe,19,19,"app-dialog-modal",19)),2&t&&(e.xp6(5),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Tol("form-control form-control-sm"),e.Q6J("ngModel",o.customModel.model.username),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.Username),e.xp6(1),e.Q6J("ngIf",0==o.isUpdate),e.xp6(1),e.Q6J("ngIf",0==o.isUpdate),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Tol("form-control form-control-sm"),e.Q6J("ngModel",o.customModel.model.email),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.Email),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Tol("form-control form-control-sm"),e.Q6J("ngModel",o.customModel.model.phoneNumber),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.PhoneNumber),e.xp6(5),e.Q6J("disabled",o.customModel.disabled),e.xp6(1),e.Q6J("hidden",!0),e.xp6(1),e.Q6J("ngIf",1==o.isUpdate),e.xp6(2),e.Q6J("url","employee/employee-list"),e.xp6(1),e.Q6J("ngIf",o.customModel.displayModal))},directives:[s._Y,s.JL,s.F,s.Fj,v.o,s.JJ,s.On,w.k,p.O5,Ie.ro,f.Hq,h.H,W.u,C,$],styles:[""]}),n})(),K=(()=>{class n{constructor(t){this.http=t}addRole(t){return this.http.post(r.N.apiUrl+"Role/addrole",t)}updateRole(t){return this.http.put(r.N.apiUrl+"Role/updateRole",t)}getAllRole(){return this.http.get(r.N.apiUrl+"Role/GetAllRoles")}getUserRoles(t){return this.http.get(r.N.apiUrl+"Role/GetUserRoles/"+t)}mapUserRole(t){return this.http.post(r.N.apiUrl+"Role/MapUserRole",t)}removeUserRole(t,o){return this.http.delete(r.N.apiUrl+"Role/RemoveRoleMapping/"+t+"/"+o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(U.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ee=d(1708);function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().removeMapping(i.id)}),e.TgZ(1,"span",14),e._uU(2,"X"),e.qZA()()}}function Oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"input",10),e.NdJ("change",function(i){return e.CHM(t),e.oxw().change(i)})("ngModelChange",function(i){const _=e.CHM(t).$implicit;return e.oxw().selectedRoles[_.id]=i}),e.qZA(),e.TgZ(3,"label",11),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.YNc(6,Le,3,0,"button",12),e.qZA()()}if(2&n){const t=a.$implicit,o=e.oxw();e.xp6(2),e.Q6J("id","role_"+t.id)("name",t.roleName)("value",t.id)("ngModel",o.selectedRoles[t.id]),e.xp6(1),e.s9C("for","role_"+t.id),e.xp6(1),e.hij("",e.lcZ(5,7,t.roleName)," "),e.xp6(2),e.Q6J("ngIf",t.hasRemoveButton)}}let Ve=(()=>{class n{constructor(t,o,i,l){this.roleService=t,this.utilService=o,this.messageService=i,this.activatedRoute=l,this.customModel=new M.B,this.roles=[],this.roleId=0,this.selectedRoles=[],this.checkedRoles=[]}ngOnInit(){void 0!==this.activatedRoute.snapshot.params.id&&(this.customModel.model=Object.assign(Object.assign({},this.customModel.model),{employeeId:this.activatedRoute.snapshot.params.id}))}change(t){const o=t.target;o.checked?this.checkedRoles.push(+o.value):this.removeCheckedRoles(+o.value)}removeCheckedRoles(t){this.checkedRoles=this.checkedRoles.filter(o=>o!==t)}getUserRoles(t){this.roleService.getUserRoles(t).subscribe({next:o=>{if(0==o.status)return;const i={};o.forEach(l=>{i[l.roleId]=l.value,this.checkedRoles.push(l.roleId)}),this.selectedRoles=i},complete:()=>{this.generateRemoveButton()}})}generateRemoveButton(){this.roles=this.roles.map(t=>Object.assign(Object.assign({},t),{hasRemoveButton:this.checkedRoles.includes(t.id)}))}mapRole(){if(0!=this.checkedRoles.length){var t={employeeId:this.customModel.model.employeeId,roleIds:this.checkedRoles};this.customModel.disabled=!0,this.roleService.mapUserRole(t).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:o=>{this.messageService.add(this.utilService.successMessage(o.message,3e3))},complete:()=>{this.getUserRoles(this.customModel.model.employeeId)},error:o=>{this.displayError(o),this.selectedRoles=[],this.checkedRoles=[]}})}else alert("Please choose at least one role !!")}getAllRole(){this.roleService.getAllRole().subscribe({next:t=>{this.roles=t},complete:()=>{this.getUserRoles(+this.activatedRoute.snapshot.params.id)}})}removeMapping(t){this.customModel.displayDialog=!0,this.roleId=t}removeMappingButton(t){const o=this.roles;for(let i=0;i<o.length;i++)o[i].id===t&&(o[i].hasRemoveButton=!1);delete this.selectedRoles[t],this.checkedRoles=this.checkedRoles.filter(i=>i!=i)}acceptRemoveMapping(){this.roleService.removeUserRole(this.customModel.model.employeeId,this.roleId).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,3e3))},complete:()=>{this.removeMappingButton(this.roleId),this.customModel.displayDialog=!1}})}displayError(t){const o=this.customModel.handleError(t);o.isDbError&&this.messageService.add(this.utilService.dangerMessage(o.dbError,4e3))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K),e.Y36(c.F),e.Y36(g.ez),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-role"]],decls:14,vars:6,consts:[[1,"row"],["class","col-xl-3 col-lg-3 col-md-4 col-sm-6 col-xs-12","style","margin-bottom: 10px",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12","col-xs-12"],[1,"d-grid"],["pButton","","pRipple","","label","Submit",1,"p-button",3,"disabled","click"],["id","getAllRole",3,"hidden","click"],[3,"url","reset"],[3,"display","contentDetails","accept","hideDialog"],[1,"col-xl-3","col-lg-3","col-md-4","col-sm-6","col-xs-12",2,"margin-bottom","10px"],[1,"form-check","custom-checkbox-container"],["type","checkbox",1,"form-check-input","custom-checkbox","checkbox-hover",3,"id","name","value","ngModel","change","ngModelChange"],[1,"form-check-label","custom-checkbox-label","checkbox-hover",3,"for"],["class","remove-mapping-btn btn-outlined-danger","pRipple","",3,"click",4,"ngIf"],["pRipple","",1,"remove-mapping-btn","btn-outlined-danger",3,"click"],[1,"remove-mapping-text"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h6"),e._uU(2,"Please Choose Role"),e.qZA(),e._UZ(3,"hr"),e.YNc(4,Oe,7,9,"div",1),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"div",0)(7,"div",2)(8,"div",3)(9,"button",4),e.NdJ("click",function(){return o.mapRole()}),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return o.getAllRole()}),e.qZA()()()(),e._UZ(11,"hr"),e.TgZ(12,"app-utility-box",6),e.NdJ("reset",function(){return o.getUserRoles(o.customModel.model.employeeId)}),e.qZA(),e.TgZ(13,"app-confirmation-dialog",7),e.NdJ("accept",function(){return o.acceptRemoveMapping()})("hideDialog",function(){return o.customModel.displayDialog=!1}),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",o.roles),e.xp6(5),e.Q6J("disabled",o.customModel.disabled),e.xp6(1),e.Q6J("hidden",!0),e.xp6(2),e.Q6J("url","employee/employee-list"),e.xp6(1),e.Q6J("display",o.customModel.displayDialog)("contentDetails","Are you sure to remove the role"))},directives:[p.sg,s.Wl,s.JJ,s.On,p.O5,h.H,f.Hq,C,ee.z],pipes:[p.gd],styles:[".remove-mapping-btn[_ngcontent-%COMP%]{margin-left:10px;border-radius:20px;height:25px;width:24px;border:3px solid #ff000059;position:absolute;margin-top:3px}.remove-mapping-text[_ngcontent-%COMP%]{font-size:15px;font-weight:bolder;position:relative;left:-1px;bottom:2px;color:#ff000085}"]}),n})();var te=d(986);const Ge=["imageContainer"],Ye=["fileUpload"];let Pe=(()=>{class n{constructor(t){this.elRef=t,this.files=[],this.noContent=!1,this.style={display:"block"},this.removedFiles=[],this.showUploadButton=!1,this.maxFileSize=5e6,this.accept="image/*",this.fileLimit=1,this.name="file[]",this.uploadFile=new e.vpe,this.clearAllFile=new e.vpe,this.tests=new e.vpe}ngOnInit(){}ngAfterViewInit(){}handleFileSelect(t){this.setAttributeToCancelButton();for(let o of t.files){const i=o.name.lastIndexOf("."),l=o.name.substring(i+1).toLowerCase();o.fileType=l,this.files.push(o)}this.uploadFile.emit(t.currentFiles)}setAttributeToCancelButton(){this.elRef.nativeElement.querySelector(".p-fileupload-buttonbar").children[1].children[0].setAttribute("id","file-upload-cancel-btn")}clearAllFiles(){this.clearAllFile.emit()}remove(t){const o=this.files[t];this.imageContainer.nativeElement.querySelector(`div[data-fileid="${o.file.name}"]`).remove(),this.files.length>1?this.files.splice(t,1):this.files=[],this.removedFiles.push(o),console.log(this.removedFiles)}oldremove(t){const i=this.imageContainer.nativeElement.querySelector(`div[data-fileid="${this.files[t].file.name}"]`);setTimeout(()=>{i.remove()},200),console.log(this.imageContainer),console.log(i)}test(){this.style={display:"none"}}viewWithReader(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-file-upload"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Ge,5),e.Gf(Ye,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.imageContainer=i.first),e.iGM(i=e.CRH())&&(o.fileUpload=i.first)}},inputs:{showUploadButton:"showUploadButton",maxFileSize:"maxFileSize",accept:"accept",fileLimit:"fileLimit",name:"name"},outputs:{uploadFile:"uploadFile",clearAllFile:"clearAllFile",tests:"tests"},decls:2,vars:6,consts:[["name","files[]","mode","advanced","styleClass","my-file-upload",3,"showUploadButton","maxFileSize","multiple","accept","fileLimit","customUpload","onSelect","onClear"],["fileUpload",""]],template:function(t,o){1&t&&(e.TgZ(0,"p-fileUpload",0,1),e.NdJ("onSelect",function(l){return o.handleFileSelect(l)})("onClear",function(){return o.clearAllFiles()}),e.qZA()),2&t&&e.Q6J("showUploadButton",o.showUploadButton)("maxFileSize",o.maxFileSize)("multiple",o.fileLimit>1)("accept",o.accept)("fileLimit",o.fileLimit)("customUpload",!0)},directives:[te.p],styles:["#file-content[_ngcontent-%COMP%]{border:5px solid blue}.custom-image-thumbnail[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.04);margin-bottom:10px;overflow:scroll;border-radius:8px;height:399px}.custom-image[_ngcontent-%COMP%]{height:300px;margin-bottom:20px;padding:10px;border-radius:20px}.custom-image-caption[_ngcontent-%COMP%]{padding:0 10px 10px}.custom-image-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-weight:700}.doc-thumbnail[_ngcontent-%COMP%]{height:399px}.doc-image[_ngcontent-%COMP%]{width:100px;height:100px;margin-top:120px;background:whitesmoke}"]}),n})();function He(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().showDialog(i.id)}),e._uU(3,"X"),e.qZA()(),e._UZ(4,"img",9),e.TgZ(5,"div",10)(6,"p"),e._uU(7),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(4),e.Q6J("src",o.url+o.directory+"/"+t.fileName+"/"+o.subdirectory,e.LSH)("alt",t.fileName),e.xp6(3),e.lnq("",t.fileName," (",t.fileSize," ",t.fileUnit,")")}}function ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",7)(2,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().showDialog(i.id)}),e._uU(3,"X"),e.qZA()(),e.TgZ(4,"a",12),e._UZ(5,"img",13),e.TgZ(6,"div",10)(7,"p"),e._uU(8),e.qZA()()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(4),e.Q6J("href",o.url+o.directory+"/"+t.fileName+"/"+o.subdirectory,e.LSH),e.xp6(1),e.Q6J("src","pdf"==t.fileType?"../../../assets/images/pdf-icon-2.png":"../../../assets/images/doc-icon-3.png",e.LSH)("alt",t.name),e.xp6(3),e.lnq("",t.fileName," (",t.fileSize," ",t.fileUnit,")")}}function je(n,a){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,He,8,5,"div",4),e.YNc(2,ze,9,6,"div",5),e.qZA()),2&n){const t=a.$implicit;e.Q6J("id","file_"+t.id),e.uIk("data-fileid",t.id),e.xp6(1),e.Q6J("ngIf","image"==t.fileType),e.xp6(1),e.Q6J("ngIf","file"==t.fileType)}}let Xe=(()=>{class n{constructor(t){this.renderer=t,this.display=!1,this.fileId=0,this.files=[],this.url=r.N.apiUrl+"file/getfile/",this.directory="",this.subdirectory=null,this.deleteFile=new e.vpe}ngOnInit(){}removeFileFromTheDom(t){const o=document.getElementById(`file_${t}`);o&&this.renderer.removeChild(o.parentNode,o)}showDialog(t){this.display=!0,this.fileId=t}hideDialog(){this.display=!1,this.fileId=0}fileLengthAfterRemove(t){if(this.files.length>0){for(let o=0;o<this.files.length;o++)this.files[o].id===t&&this.files.splice(o,1);return this.files.length}}removeFile(){const t={fileId:this.fileId,currentFileLength:this.fileLengthAfterRemove(this.fileId)};this.removeFileFromTheDom(this.fileId),this.display=!1,this.deleteFile.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-file-view"]],inputs:{files:"files",url:"url",directory:"directory",subdirectory:"subdirectory"},outputs:{deleteFile:"deleteFile"},decls:3,vars:3,consts:[[1,"row",2,"margin-top","10px"],["class","col-xxl-3 col-xl-3 col-lg-3 col-md-6 col-xs-12 col-sm-12 file-container",3,"id",4,"ngFor","ngForOf"],[3,"display","contentDetails","hideDialog","accept"],[1,"col-xxl-3","col-xl-3","col-lg-3","col-md-6","col-xs-12","col-sm-12","file-container",3,"id"],["class","thumbnail custom-image-thumbnail",4,"ngIf"],["class","thumbnail custom-image-thumbnail doc-thumbnail",4,"ngIf"],[1,"thumbnail","custom-image-thumbnail"],[1,"close"],["pRipple","",3,"click"],[1,"mx-auto","d-block","custom-image",3,"src","alt"],[1,"caption","custom-image-caption"],[1,"thumbnail","custom-image-thumbnail","doc-thumbnail"],["target","_blank",3,"href"],[1,"mx-auto","d-block","custom-image","doc-image",3,"src","alt"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,je,3,4,"div",1),e.qZA(),e.TgZ(2,"app-confirmation-dialog",2),e.NdJ("hideDialog",function(){return o.hideDialog()})("accept",function(){return o.removeFile()}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.files),e.xp6(1),e.Q6J("display",o.display)("contentDetails","Are You Sure To Delete ?"))},directives:[p.sg,p.O5,h.H,ee.z],styles:[".file-container[_ngcontent-%COMP%]{padding:10px;position:relative}#file-content[_ngcontent-%COMP%]{border:5px solid blue}.custom-image-thumbnail[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.04);margin-bottom:10px;overflow:scroll;border-radius:8px;height:399px}.custom-image[_ngcontent-%COMP%]{height:300px;margin-bottom:20px;padding:10px;border-radius:20px}.custom-image-caption[_ngcontent-%COMP%]{padding:0 10px 10px}.custom-image-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-weight:700}.doc-thumbnail[_ngcontent-%COMP%]{height:399px}.doc-image[_ngcontent-%COMP%]{width:100px;height:100px;margin-top:120px;background:whitesmoke}.close[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-2px;padding:5px;background:#ffffff;z-index:1;border-radius:58px;border:2px solid rgba(255,255,255,.87)}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#d11717b8;font-weight:700;font-size:17px;border:none;background:none;cursor:pointer;border:3px solid #e9e9e9;border-radius:15px}"]}),n})();function We(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showFile()}),e.qZA()()}}function $e(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"label"),e.TgZ(2,"span",5)(3,"div",21)(4,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateDocumentMasterData()}),e.qZA()(),e.YNc(5,We,2,0,"div",23),e.qZA()()}if(2&n){const t=e.oxw();e.Tol(t.designModel.responsiveClass),e.xp6(5),e.Q6J("ngIf",t.isFileAvailable)}}function Ke(n,a){if(1&n&&e._UZ(0,"app-error-validation",7),2&n){const t=e.oxw();e.Q6J("hasValidation",t.customModel.hasValidation)("validationModel",t.customModel.validationModel.Files)}}function et(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-file-view",26),e.NdJ("deleteFile",function(i){return e.CHM(t),e.oxw().deleteFile(i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("files",t.files)("directory","employeedoc")("subdirectory","emp_"+t.customModel.model.employeeId)}}const tt=function(){return{width:"60%"}};let ot=(()=>{class n{constructor(t,o,i,l){this.employeeService=t,this.messageService=o,this.utilService=i,this.activatedRoute=l,this.customModel=new M.B,this.designModel=new J.R,this.env=r.N.apiUrl,this.files=[],this.isFileAvailable=!1,this.showFileByModal=!1,this.isGeneralInfoButton=!1}ngOnInit(){void 0!==this.activatedRoute.snapshot.params.id&&(this.customModel.model=Object.assign(Object.assign({},this.customModel.model),{employeeId:this.activatedRoute.snapshot.params.id}))}ngAfterViewInit(){}getDocumentInfo(){this.employeeService.getDocumentMasterInfoByEmployee(this.customModel.model.employeeId).subscribe({next:t=>{null!=t&&(this.customModel.model=t.docmasterData,this.files=t.docDetailsData,this.isFileAvailable=this.files.length>0,this.showFileByModal=!1,this.isGeneralInfoButton=!0)}})}updateDocumentMasterData(){this.employeeService.updateDocumentMaster(this.customModel.model).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,2e3))}})}addDocumentInfo(){this.customModel.disabled=!0,this.employeeService.saveEmployeeDocumentInfo(this.customModel.withFormData()).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{1==t.status&&(this.messageService.add(this.utilService.successMessage(t.message,2e3)),this.isFileAvailable=!0,this.showFileByModal=!0,this.isGeneralInfoButton=!0,this.customModel.clearAllFiles(),this.clearFileFromCache())},error:t=>{this.displayError(t)}})}displayError(t){const o=this.customModel.handleError(t);o.isDbError&&this.messageService.add(this.utilService.dangerMessage(o.dbError,4e3))}clearFileFromCache(){const t=document.getElementById("file-upload-cancel-btn");t&&t.click()}showFile(){1==this.showFileByModal?this.employeeService.getDocumentMasterInfoByEmployee(this.customModel.model.employeeId).subscribe({next:t=>{this.files=t.docDetailsData},complete:()=>{this.customModel.displayModal=!0,this.showFileByModal=!1}}):this.customModel.displayModal=!0}deleteFile(t){this.employeeService.deleteEmpoloyeeDoc(t.fileId,this.customModel.model.employeeId).subscribe(),0==t.currentFileLength&&(this.customModel.displayModal=!1,this.isFileAvailable=!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.G),e.Y36(g.ez),e.Y36(c.F),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-document"]],inputs:{documentInfoData:"documentInfoData"},decls:37,vars:31,consts:[["autocomplete","off","enctype","multipart/form-data"],[1,"custom-group",2,"margin-top","8px"],[1,"custom-group-title"],[1,"row"],["for","documentName"],[1,"p-float-label"],["type","text","pInputText","","name","documentName",3,"ngModel","ngModelChange","blur"],[3,"hasValidation","validationModel"],["for","description"],["pInputText","","name","address",3,"rows","cols","ngModel","ngModelChange","blur"],[3,"class",4,"ngIf"],[1,"custom-group",2,"margin-top","10px"],[3,"hasValidation","validationModel",4,"ngIf"],[3,"fileLimit","accept","uploadFile","clearAllFile"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12","col-xs-12"],[1,"d-grid"],["pButton","","pRipple","","label","Submit",1,"p-button",3,"disabled","click"],["id","getDocumentInfo",3,"hidden","click"],[3,"url"],[3,"display","header","hideModal"],[3,"files","directory","subdirectory","deleteFile",4,"ngIf"],[2,"display","inline"],["icon","pi pi-info","pButton","","pRipple","","type","button","pTooltip","Update Generel info","tooltipPosition","bottom",1,"p-button-rounded","p-button-help",2,"border","2px solid",3,"click"],["style","display: inline; margin-left: 10px;",4,"ngIf"],[2,"display","inline","margin-left","10px"],["icon","pi pi-file","pButton","","pRipple","","type","button","pTooltip","Show File","tooltipPosition","bottom",1,"p-button-rounded","p-button-info",2,"border","2px solid",3,"click"],[3,"files","directory","subdirectory","deleteFile"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"p",2),e._uU(3,"Generl Info"),e.qZA()(),e.TgZ(4,"div",3)(5,"div")(6,"label",4),e._uU(7,"Document Name"),e.qZA(),e.TgZ(8,"span",5)(9,"input",6),e.NdJ("ngModelChange",function(l){return o.customModel.model.documentName=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"DocumentName")}),e.qZA()(),e._UZ(10,"app-error-validation",7),e.qZA(),e.TgZ(11,"div")(12,"label",8),e._uU(13,"Description"),e.qZA(),e.TgZ(14,"span",5)(15,"textarea",9),e.NdJ("ngModelChange",function(l){return o.customModel.model.description=l})("blur",function(l){return o.customModel.removeValidationMsg(l,"Description")}),e._uU(16,"        "),e.qZA()(),e._UZ(17,"app-error-validation",7),e.qZA(),e.YNc(18,$e,6,3,"div",10),e.TgZ(19,"div",11)(20,"p",2),e._uU(21,"Document Upload"),e.qZA()(),e.TgZ(22,"div"),e.YNc(23,Ke,1,2,"app-error-validation",12),e.TgZ(24,"span",5)(25,"app-file-upload",13),e.NdJ("uploadFile",function(l){return o.customModel.onFileUpload(l)})("clearAllFile",function(){return o.customModel.clearAllFiles()}),e.qZA()()()(),e._UZ(26,"hr"),e.TgZ(27,"div",3)(28,"div",14)(29,"div",15)(30,"button",16),e.NdJ("click",function(){return o.addDocumentInfo()}),e.qZA(),e.TgZ(31,"button",17),e.NdJ("click",function(){return o.getDocumentInfo()}),e._uU(32," Setup "),e.qZA()()()(),e._UZ(33,"hr")(34,"app-utility-box",18),e.qZA(),e.TgZ(35,"app-dialog-modal",19),e.NdJ("hideModal",function(){return o.customModel.hideModal()}),e.YNc(36,et,1,3,"app-file-view",20),e.qZA()),2&t&&(e.xp6(5),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Tol("form-control form-control-sm"),e.Q6J("ngModel",o.customModel.model.documentName),e.xp6(1),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.DocumentName),e.xp6(1),e.Tol(o.designModel.responsiveClass),e.xp6(4),e.Tol(o.designModel.inputClass),e.Q6J("rows",1)("cols",30)("ngModel",o.customModel.model.description),e.xp6(2),e.Q6J("hasValidation",o.customModel.hasValidation)("validationModel",o.customModel.validationModel.Description),e.xp6(1),e.Q6J("ngIf",o.isGeneralInfoButton),e.xp6(4),e.Tol("col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"),e.xp6(1),e.Q6J("ngIf",null==o.customModel.files||0==o.customModel.files.length),e.xp6(2),e.Q6J("fileLimit",5)("accept","image/*, .pdf"),e.xp6(5),e.Q6J("disabled",o.customModel.disabled),e.xp6(1),e.Q6J("hidden",!0),e.xp6(3),e.Q6J("url","employee/employee-list"),e.xp6(1),e.Akn(e.DdM(30,tt)),e.Q6J("display",o.customModel.displayModal)("header","User Documents"),e.xp6(1),e.Q6J("ngIf",o.customModel.displayModal))},directives:[s._Y,s.JL,s.F,s.Fj,v.o,s.JJ,s.On,w.k,p.O5,f.Hq,h.H,W.u,Pe,C,$,Xe],styles:[""]}),n})(),nt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contact-info"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"contact-info works!"),e.qZA())},styles:[""]}),n})(),it=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-other"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"other works!"),e.qZA())},styles:[""]}),n})();var A=d(2801);let oe=(()=>{class n{constructor(t,o,i,l,_){this.router=t,this.utilService=o,this.activatedRoute=i,this.messageService=l,this.employeeService=_,this.customModel=new M.B,this.employeeId=0}ngOnInit(){this.customModel.disabled=!0,this.utilService.queryParamsSanitization(),this.utilService.turnModalStateErrorOn=!1,void 0!==this.activatedRoute.snapshot.params.id&&(this.customModel.disabled=!1,this.customModel.isAmend=!0,this.employeeId=this.activatedRoute.snapshot.params.id)}ngOnDestroy(){this.utilService.turnModalStateErrorOn=!0}setInfo(t){setTimeout(()=>{var o=document.getElementById(t);o&&o.click()},100)}changeTab(t){switch(t.originalEvent.target.innerText.toLowerCase()){case"job details":this.setInfo("getEmployeeJobDetails");break;case"user info":this.setInfo("getUserData");break;case"user role":this.setInfo("getAllRole");break;case"contact info":case"others":default:break;case"document":this.setInfo("getDocumentInfo")}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(c.F),e.Y36(u.gz),e.Y36(g.ez),e.Y36(b.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-employee"]],decls:31,vars:7,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"feature-title"],[1,"under-header"],[1,"row"],[3,"onChange"],["header","Basic Info"],[1,"tabview-paragraph"],["header","Job Details",3,"disabled"],["header","User Info",3,"disabled"],["header","User Role",3,"disabled"],["header","Document",3,"disabled"],["header","Contact Info",3,"disabled"],["header","Others",3,"disabled"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),e._uU(5),e.qZA(),e._UZ(6,"hr",4),e.qZA(),e.TgZ(7,"div",5)(8,"p-tabView",6),e.NdJ("onChange",function(l){return o.changeTab(l)}),e.TgZ(9,"p-tabPanel",7)(10,"p",8),e._UZ(11,"app-basic-info"),e.qZA()(),e.TgZ(12,"p-tabPanel",9)(13,"p",8),e._UZ(14,"app-job-details"),e.qZA()(),e.TgZ(15,"p-tabPanel",10)(16,"p",8),e._UZ(17,"app-user-info"),e.qZA()(),e.TgZ(18,"p-tabPanel",11)(19,"p",8),e._UZ(20,"app-user-role"),e.qZA()(),e.TgZ(21,"p-tabPanel",12)(22,"p",8),e._UZ(23,"app-user-document"),e.qZA()(),e.TgZ(24,"p-tabPanel",13)(25,"p",8),e._UZ(26,"app-contact-info"),e.qZA()(),e.TgZ(27,"p-tabPanel",14)(28,"p",8),e._UZ(29,"app-other"),e.qZA()()()()()()(),e._UZ(30,"app-default-toast")),2&t&&(e.xp6(5),e.Oqu(o.customModel.isAmend?"Edit Employee":"Set Employee"),e.xp6(7),e.Q6J("disabled",o.customModel.disabled),e.xp6(3),e.Q6J("disabled",o.customModel.disabled),e.xp6(3),e.Q6J("disabled",o.customModel.disabled),e.xp6(3),e.Q6J("disabled",o.customModel.disabled),e.xp6(3),e.Q6J("disabled",o.customModel.disabled),e.xp6(3),e.Q6J("disabled",o.customModel.disabled))},directives:[R.xf,R.x4,ge,xe,ke,Ve,ot,nt,it,A.r],styles:[""]}),n})();var lt=d(8884),I=d(7240),at=d(3407),T=d(6095);function st(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.customModel.editMode?i.updateDepartment():i.addDepartment()}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("label",t.customModel.editMode?"Edit":"Add")("disabled",t.customModel.disabled)}}const dt=function(){return{"margin-left":"10px"}};function rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-default-grid",27),e.NdJ("modifyEvent",function(i){return e.CHM(t),e.oxw().viewData(i,"edit")})("viewEvent",function(i){return e.CHM(t),e.oxw().viewData(i,"view")})("pullDataEvent",function(){return e.CHM(t),e.oxw().pullData()}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("cols",t.customModel.cols)("data",t.customModel.data)("actionStyle",e.DdM(8,dt))("hasGridDeleteButton",!1)("isShrinkGridData",!0)("hasBtnPull",!0)("hasGridViewButton",!0)("gridLoad",t.customModel.gridLoad)}}const ne=function(n,a){return{employeeName:n,employeeId:a}},pt=function(n){return[n]};let mt=(()=>{class n{constructor(t,o,i){this.departmentService=t,this.messageService=o,this.utilService=i,this.customModel=new I.p,this.showGrid=!1}ngOnInit(){this.getAllDepartment(),this.departmentListColumn()}departmentListColumn(){this.customModel.cols=[{field:"departmentName",header:"Dept",style:{"text-transform":"capitalize"}},{field:"abbreviation",header:"Abbreviation",style:{"text-transform":"capitalize"}},{field:"departmentHeadName",header:"Dept. Head",style:{"text-transform":"capitalize"}},{field:"createdDate",header:"Created Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"lastUpdatedDate",header:"Updated Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"createdByName",header:"Created By",style:{"text-transform":"capitalize"}}]}getAllDepartment(){return this.departmentService.getAllDepartment().subscribe({next:t=>{this.customModel.data=t},complete:()=>{this.customModel.gridLoad=!1,this.utilService.turnLoadingBarOn=!0}})}changeDropdown(t){this.customModel.model.departmentHeadId=t.employeeId,this.customModel.model.departmentHeadName=t.employeeName}addDepartment(){this.customModel.disabled=!0,this.departmentService.addDepartment(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,2e3)),this.reset()},complete:()=>{this.refreshGrid()}})}updateDepartment(){console.log(this.customModel.model)}viewData(t,o){console.log(t),this.customModel.editMode=!1,this.customModel.model=Object.assign({},t),setTimeout(()=>{this.customModel.editMode=!0},0),this.customModel.isRemoved="view"==o}refreshGrid(){this.utilService.turnLoadingBarOn=!1,this.customModel.gridLoad=!0,this.getAllDepartment()}pullData(){this.getAllDepartment()}reset(){this.customModel.model={},this.customModel.isRemoved=!1,this.customModel.editMode=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L),e.Y36(g.ez),e.Y36(c.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-department"]],inputs:{showGrid:"showGrid"},decls:42,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-xxl-3","col-xl-3","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"card-body"],[1,"feature-title"],[2,"margin-top","2px"],[1,"utility-box",2,"margin-top","-11px"],[1,"utility",3,"click"],[1,"custom-hr"],["autocomplete","off"],["addForm","ngForm"],[1,"col-12","mb-3"],[1,"p-float-label"],["type","text","pInputText","","name","departmentName",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","departmentName"],["type","text","pInputText","","name","abbreviation",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","abbreviation"],["type","text","pInputText","","name","departmentCode",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","departmentCode"],[3,"employees","selectedEmployee","placeholder","changeEmployee"],["pInputTextarea","","name","address",1,"custom-textarea",3,"rows","cols","ngModel","ngModelChange"],["for","address"],["class","col-12 mb-3",4,"ngIf"],[1,"col-xxl-9","col-xl-9","col-md-12","col-sm-12","col-xs-12"],[4,"ngIf"],["pButton","","pRipple","",1,"p-button",2,"width","100%",3,"label","disabled","click"],["gridHeight","455px",3,"cols","data","actionStyle","hasGridDeleteButton","isShrinkGridData","hasBtnPull","hasGridViewButton","gridLoad","modifyEvent","viewEvent","pullDataEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6"),e._uU(7,"Set Department"),e.qZA()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"app-reset",8),e.NdJ("click",function(){return o.reset()}),e.qZA()(),e._UZ(11,"hr",9),e.TgZ(12,"form",10,11)(14,"div",12)(15,"span",13)(16,"input",14),e.NdJ("ngModelChange",function(l){return o.customModel.model.departmentName=l}),e.qZA(),e.TgZ(17,"label",15),e._uU(18,"Name"),e.qZA()()(),e.TgZ(19,"div",12)(20,"span",13)(21,"input",16),e.NdJ("ngModelChange",function(l){return o.customModel.model.abbreviation=l}),e.qZA(),e.TgZ(22,"label",17),e._uU(23,"Abbreviation"),e.qZA()()(),e.TgZ(24,"div",12)(25,"span",13)(26,"input",18),e.NdJ("ngModelChange",function(l){return o.customModel.model.departmentCode=l}),e.qZA(),e.TgZ(27,"label",19),e._uU(28,"Code"),e.qZA()()(),e.TgZ(29,"div",12)(30,"span",13)(31,"app-employee-dropdown",20),e.NdJ("changeEmployee",function(l){return o.changeDropdown(l)}),e.qZA()()(),e.TgZ(32,"div",12)(33,"span",13)(34,"textarea",21),e.NdJ("ngModelChange",function(l){return o.customModel.model.departmentAddress=l}),e._uU(35,"                "),e.qZA(),e.TgZ(36,"label",22),e._uU(37,"Address"),e.qZA()()(),e.YNc(38,st,2,2,"div",23),e.qZA()()()(),e.TgZ(39,"div",24),e.YNc(40,rt,2,9,"div",25),e.qZA()()(),e._UZ(41,"app-default-toast")),2&t&&(e.xp6(16),e.Q6J("ngModel",o.customModel.model.departmentName),e.xp6(5),e.Q6J("ngModel",o.customModel.model.abbreviation),e.xp6(5),e.Q6J("ngModel",o.customModel.model.departmentCode),e.xp6(5),e.Q6J("employees",e.VKq(14,pt,e.WLB(11,ne,o.customModel.model.departmentHeadName,o.customModel.model.departmentHeadId)))("selectedEmployee",o.customModel.editMode?e.WLB(16,ne,o.customModel.model.departmentHeadName,o.customModel.model.departmentHeadId):void 0)("placeholder","Dept Head."),e.xp6(3),e.Q6J("rows",1)("cols",28)("ngModel",o.customModel.model.departmentAddress),e.xp6(4),e.Q6J("ngIf",0==o.customModel.isRemoved),e.xp6(2),e.Q6J("ngIf",o.showGrid))},directives:[Z.f,s._Y,s.JL,s.F,s.Fj,v.o,s.JJ,s.On,G.J,at.g,p.O5,f.Hq,h.H,T.o,A.r],styles:[""]}),n})();const ct=function(){return{"margin-left":"20px"}};function ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"app-default-grid",24),e.NdJ("modifyEvent",function(i){return e.CHM(t),e.oxw().customModel.viewData(i)})("pullDataEvent",function(){return e.CHM(t),e.oxw().getAllDesignation()}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("cols",t.customModel.cols)("data",t.customModel.data)("hasGridDeleteButton",!1)("modifyButtonClass","p-button-primary p-button-rounded")("actionStyle",e.DdM(8,ct))("hasBtnPull",!0)("isShrinkGridData",!0)("gridLoad",t.customModel.gridLoad)}}const ie=function(n,a){return{departmentId:n,departmentName:a}},gt=function(n){return[n]};let ht=(()=>{class n{constructor(t,o,i){this.utilService=t,this.designationService=o,this.messageService=i,this.customModel=new I.p,this.showGrid=!1}ngOnInit(){this.designationListColumn(),this.getAllDesignation()}changeDropdown(t){this.customModel.model=Object.assign(Object.assign({},this.customModel.model),t)}designationListColumn(){this.customModel.cols=[{field:"designationName",header:"Designation"},{field:"abbreviation",header:"Abbreviation"},{field:"departmentName",header:"Department"},{field:"createdDate",header:"Created Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"lastUpdatedDate",header:"Updated Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"createdByName",header:"Created By",style:{"text-transform":"capitalize"}}]}getAllDesignation(){this.designationService.getAllDesignation().subscribe({next:t=>{this.customModel.data=t},complete:()=>{this.utilService.turnLoadingBarOn=!0,this.customModel.gridLoad=!1}})}addDesignation(){this.customModel.disabled=!0,this.designationService.addDesignation(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,2e3))},complete:()=>{this.refreshGrid()}})}updateDesignation(){this.customModel.disabled=!0,this.designationService.updateDesignation(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,2e3))}})}refreshGrid(){this.utilService.turnLoadingBarOn=!1,this.customModel.gridLoad=!0,this.getAllDesignation()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.F),e.Y36(V),e.Y36(g.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-designation"]],inputs:{showGrid:"showGrid"},decls:34,vars:15,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"feature-title"],[1,"under-header"],["autocomplete","off"],["addForm","ngForm"],[1,"row"],[1,"col-xxl-10","col-xl-10","col-lg-9","col-md-12","col-sm-12","col-xs-12"],[1,"col-xl-3","col-lg-5","col-md-6","col-sm-6","col-xs-12"],[1,"p-float-label"],["type","text","pInputText","","name","designationName",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","designationName"],["type","text","pInputText","","name","abbreviation",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","abbreviation"],[3,"departments","selectedDepartment","changeDepartment"],[1,"col-xl-1","col-lg-1","col-md-12","col-sm-12","col-xs-12","mt-1"],[1,"d-grid","gap-2"],["pButton","","pRipple","",1,"p-button",3,"label","disabled","click"],[1,"col-xxl-2","col-xl-2","col-lg-3","col-md-12","col-sm-12","col-xs-12"],[1,"utilityBtn"],[3,"click"],["class","row mt-2",4,"ngIf"],[1,"row","mt-2"],[3,"cols","data","hasGridDeleteButton","modifyButtonClass","actionStyle","hasBtnPull","isShrinkGridData","gridLoad","modifyEvent","pullDataEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),e._uU(5,"Set Designaation"),e.qZA()(),e._UZ(6,"hr",4),e.TgZ(7,"form",5,6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"span",10)(14,"input",11),e.NdJ("ngModelChange",function(l){return o.customModel.model.designationName=l}),e.qZA(),e.TgZ(15,"label",12),e._uU(16,"Designation"),e.qZA()()(),e.TgZ(17,"div",9)(18,"span",10)(19,"input",13),e.NdJ("ngModelChange",function(l){return o.customModel.model.abbreviation=l}),e.qZA(),e.TgZ(20,"label",14),e._uU(21,"Abbreviation"),e.qZA()()(),e.TgZ(22,"div",9)(23,"span",10)(24,"app-department-dropdown",15),e.NdJ("changeDepartment",function(l){return o.changeDropdown(l)}),e.qZA()()(),e.TgZ(25,"div",16)(26,"div",17)(27,"button",18),e.NdJ("click",function(){return o.customModel.editMode?o.updateDesignation():o.addDesignation()}),e.qZA()()()()(),e.TgZ(28,"div",19)(29,"div",20)(30,"span")(31,"app-reset",21),e.NdJ("click",function(){return o.customModel.resetAll()}),e.qZA()()()()()()()(),e.YNc(32,ut,2,9,"div",22),e.qZA(),e._UZ(33,"app-default-toast")),2&t&&(e.xp6(14),e.Q6J("ngModel",o.customModel.model.designationName),e.xp6(5),e.Q6J("ngModel",o.customModel.model.abbreviation),e.xp6(5),e.Q6J("departments",e.VKq(10,gt,e.WLB(7,ie,o.customModel.model.departmentId,o.customModel.model.departmentName)))("selectedDepartment",o.customModel.editMode?e.WLB(12,ie,o.customModel.model.departmentId,o.customModel.model.departmentName):void 0),e.xp6(3),e.Q6J("label",o.customModel.editMode?"Edit":"Add")("disabled",o.customModel.disabled),e.xp6(5),e.Q6J("ngIf",o.showGrid))},directives:[s._Y,s.JL,s.F,s.Fj,v.o,s.JJ,s.On,O,f.Hq,h.H,Z.f,p.O5,T.o,A.r],styles:[""]}),n})();const _t=function(){return{"margin-left":"20px"}};function ft(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"app-default-grid",21),e.NdJ("modifyEvent",function(i){return e.CHM(t),e.oxw().customModel.viewData(i)})("pullDataEvent",function(){return e.CHM(t),e.oxw().getAllRole()}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("cols",t.customModel.cols)("data",t.customModel.data)("hasGridDeleteButton",!1)("modifyButtonClass","p-button-primary p-button-rounded")("actionStyle",e.DdM(9,_t))("hasBtnPull",!0)("isShrinkGridData",!0)("gridLoad",!0)("gridLoad",t.customModel.gridLoad)}}let Mt=(()=>{class n{constructor(t,o,i){this.roleService=t,this.utilService=o,this.messageService=i,this.customModel=new I.p,this.showGrid=!1}ngOnInit(){this.column(),this.getAllRole()}column(){this.customModel.cols=[{field:"roleName",header:"Role Name",style:{"text-transform":"capitalize"}},{field:"createdDate",header:"Created Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"lastUpdatedDate",header:"Updated Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"createdBy",header:"Created By",style:{"text-transform":"capitalize"}}]}addRole(){this.customModel.disabled=!0,this.roleService.addRole(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,2e3))},complete:()=>{this.customModel.resetAll(),this.getAllRole()}})}updateRole(){this.customModel.disabled=!0,this.roleService.updateRole(this.customModel.model).pipe((0,m.x)(()=>{this.customModel.disabled=!1})).subscribe({next:t=>{this.messageService.add(this.utilService.successMessage(t.message,2e3))},complete:()=>{this.customModel.resetAll(),this.getAllRole()}})}getAllRole(){this.roleService.getAllRole().subscribe({next:t=>{this.customModel.data=t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K),e.Y36(c.F),e.Y36(g.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-role"]],inputs:{showGrid:"showGrid"},decls:26,vars:4,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"feature-title"],[1,"under-header"],["autocomplete","off"],["addForm","ngForm"],[1,"row"],[1,"col-xxl-10","col-xl-10","col-lg-9","col-md-12","col-sm-12","col-xs-12"],[1,"col-xl-3","col-lg-5","col-md-6","col-sm-6","col-xs-12"],[1,"p-float-label"],["type","text","pInputText","","name","roleName",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","role name"],[1,"col-xl-1","col-lg-1","col-md-12","col-sm-12","col-xs-12","mt-1"],[1,"d-grid","gap-2"],["pButton","","pRipple","",1,"p-button",3,"label","disabled","click"],[1,"col-xxl-2","col-xl-2","col-lg-3","col-md-12","col-sm-12","col-xs-12"],[1,"utilityBtn"],[3,"click"],["class","row mt-2",4,"ngIf"],[1,"row","mt-2"],[3,"cols","data","hasGridDeleteButton","modifyButtonClass","actionStyle","hasBtnPull","isShrinkGridData","gridLoad","modifyEvent","pullDataEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),e._uU(5,"Set Role"),e.qZA()(),e._UZ(6,"hr",4),e.TgZ(7,"form",5,6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"span",10)(14,"input",11),e.NdJ("ngModelChange",function(l){return o.customModel.model.roleName=l}),e.qZA(),e.TgZ(15,"label",12),e._uU(16,"Role "),e.qZA()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"button",15),e.NdJ("click",function(){return o.customModel.editMode?o.updateRole():o.addRole()}),e.qZA()()()()(),e.TgZ(20,"div",16)(21,"div",17)(22,"span")(23,"app-reset",18),e.NdJ("click",function(){return o.customModel.resetAll()}),e.qZA()()()()()()()(),e.YNc(24,ft,2,10,"div",19),e.qZA(),e._UZ(25,"app-default-toast")),2&t&&(e.xp6(14),e.Q6J("ngModel",o.customModel.model.roleName),e.xp6(5),e.Q6J("label",o.customModel.editMode?"Edit":"Add")("disabled",o.customModel.disabled),e.xp6(5),e.Q6J("ngIf",o.showGrid))},directives:[s._Y,s.JL,s.F,s.Fj,v.o,s.JJ,s.On,f.Hq,h.H,Z.f,p.O5,T.o,A.r],styles:[""]}),n})();function vt(n,a){1&n&&e._UZ(0,"app-add-department",3),2&n&&e.Q6J("showGrid",!0)}function bt(n,a){1&n&&e._UZ(0,"app-add-designation",3),2&n&&e.Q6J("showGrid",!0)}function yt(n,a){1&n&&e._UZ(0,"app-add-role",3),2&n&&e.Q6J("showGrid",!0)}let Ct=(()=>{class n{constructor(t){this.utilsService=t,this.selectedMenuItem="department"}ngOnInit(){this.utilsService.queryParamsSanitization(),this.items=[{label:"Set Department",icon:"pi pi-fw pi-building",command:()=>{this.selectedMenu("department")}},{label:"Set Designation",icon:"pi pi-fw pi-user-minus",command:()=>{this.selectedMenu("designation")}},{label:"Set Role",icon:"pi pi-fw pi-users",command:()=>{this.selectedMenu("role")}}]}selectedMenu(t){this.selectedMenuItem=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-settings"]],decls:6,vars:4,consts:[[1,"container"],[3,"items"],[3,"showGrid",4,"ngIf"],[3,"showGrid"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-top-menubar",1),e.qZA(),e._UZ(2,"br"),e.YNc(3,vt,1,1,"app-add-department",2),e.YNc(4,bt,1,1,"app-add-designation",2),e.YNc(5,yt,1,1,"app-add-role",2)),2&t&&(e.xp6(1),e.Q6J("items",o.items),e.xp6(2),e.Q6J("ngIf","department"==o.selectedMenuItem),e.xp6(1),e.Q6J("ngIf","designation"==o.selectedMenuItem),e.xp6(1),e.Q6J("ngIf","role"==o.selectedMenuItem))},directives:[lt.X,p.O5,mt,ht,Mt],styles:[""]}),n})();class le{constructor(a,t){this.pageNumber=1,this.pageSize=10,null==a&&(a=this.pageNumber),null==t&&(t=this.pageSize),this.pageNumber=a,this.pageSize=t}}var Dt=d(9235);let Tt=(()=>{class n{constructor(t,o,i,l){this.viewContainerRef=t,this.templateRef=o,this.accountService=i,this.router=l,this.accountService.currentUser$.pipe((0,x.q)(1)).subscribe(_=>{this.user=_})}ngOnInit(){this.hasRole()}hasRole(){var t,o;(null===(t=this.user)||void 0===t?void 0:t.roles)&&null!=this.user?(null===(o=this.user)||void 0===o?void 0:o.roles.some(i=>this.appHasRole.includes(i)))?this.viewContainerRef.createEmbeddedView(this.templateRef):(this.viewContainerRef.clear(),this.router.navigateByUrl("/not-found")):this.viewContainerRef.clear()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Dt.e),e.Y36(u.F0))},n.\u0275dir=e.lG2({type:n,selectors:[["","appHasRole",""]],inputs:{appHasRole:"appHasRole"}}),n})();var ae=d(4132);function wt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"app-default-grid",6),e.NdJ("modifyEvent",function(i){return e.CHM(t),e.oxw(2).selectUsername(i)}),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"div")(4,"p-paginator",7),e.NdJ("onPageChange",function(i){return e.CHM(t),e.oxw(2).paginate(i)}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("cols",t.cols)("data",t.users)("hasGridDeleteButton",!1)("scrollable",!0)("showOverlay",!1)("turnDataFilterOn",!0),e.xp6(3),e.Q6J("rows",t.pagination.ItemsPerPage)("totalRecords",t.pagination.TotalItems)("pageLinkSize",t.pagination.TotalPages)}}function Zt(n,a){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2),e._uU(2,"User List"),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,wt,5,9,"div",4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.users.length>0)}}let xt=(()=>{class n{constructor(t){this.userSerivces=t,this.userPermission=["admin"],this.users=[],this.paginationModel=new le}ngOnInit(){this.getAllUser(this.paginationModel.pageNumber,this.paginationModel.pageSize)}userRoleMappingColumn(){this.cols=[{field:"userName",header:"Username"},{field:"email",header:"Email"},{field:"phoneNumber",header:"Phone Number"}]}getAllUser(t,o){this.userSerivces.getAllUser(t,o).subscribe({next:i=>{this.users=i.result,this.pagination=i.pagination,this.userRoleMappingColumn()}})}paginate(t){this.getAllUser(t.page+1,t.rows)}selectUsername(t){console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-role-mapping"]],decls:1,vars:1,consts:[["class","card",4,"appHasRole"],[1,"card"],[1,"card-header",".custom-card-header-font"],[1,"card-body"],["class","col-12",4,"ngIf"],[1,"col-12"],[3,"cols","data","hasGridDeleteButton","scrollable","showOverlay","turnDataFilterOn","modifyEvent"],[3,"rows","totalRecords","pageLinkSize","onPageChange"]],template:function(t,o){1&t&&e.YNc(0,Zt,5,1,"div",0),2&t&&e.Q6J("appHasRole",o.userPermission)},directives:[Tt,p.O5,T.o,ae.D],styles:[""]}),n})();const Ut=function(){return{"margin-left":"20px"}},At=[{path:"",data:{title:"Employee"},children:[{path:"",redirectTo:"employee-settings"},{path:"employee-settings",component:Ct,data:{title:"Employee-Settings"}},{path:"add-employee",component:oe,data:{title:"Add-Empoloyee"}},{path:"edit-employee/:id",component:oe,data:{title:"Edit-Employee"}},{path:"employee-list",component:(()=>{class n{constructor(t,o){this.employeeService=t,this.router=o,this.customModel=new I.p,this.paginationModel=new le(1,5)}ngOnInit(){this.getAllEmployee(this.paginationModel.pageNumber,this.paginationModel.pageSize)}employeeColumn(){this.customModel.cols=[{field:"id",header:"Emp Id",style:{"text-transform":"capitalize"}},{field:"firstName",header:"First Name",style:{"text-transform":"capitalize"}},{field:"lastName",header:"Last Name",style:{"text-transform":"capitalize"}},{field:"userName",header:"User name",style:{"text-transform":"capitalize"}},{field:"gender",header:"Gender",style:{"text-transform":"capitalize"}},{field:"idType",header:"Id Type",style:{"text-transform":"capitalize"}},{field:"idNo",header:"Id No",style:{"text-transform":"capitalize"}},{field:"dob",header:"Dob",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"createdDate",header:"Created Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"lastUpdatedDate",header:"Updated Date",type:"date",format:"dd/MM/yyyy",style:{"margin-left":"5px"}},{field:"createdByName",header:"Created By",style:{"text-transform":"capitalize"}}]}getAllEmployee(t,o){this.employeeService.getAllEmployee(t,o).subscribe({next:i=>{this.customModel.data=i.result,this.pagination=i.pagination,this.employeeColumn()}})}url(){this.router.navigateByUrl("employee/add-employee")}edit(t){this.router.navigateByUrl("employee/edit-employee/"+t.id)}paginate(t){this.getAllEmployee(t.page+1,t.rows)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.G),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-list"]],decls:11,vars:13,consts:[[1,"container-fluid"],[1,"card"],[1,"card-body"],[1,"feature-title",2,"margin-bottom","-13px"],[1,"row","mt-2"],["btnSetDataLabel","Add Employee",3,"cols","data","hasGridDeleteButton","modifyButtonClass","actionStyle","hasBtnPull","isShrinkGridData","gridLoad","hasBtnSetData","modifyEvent","setDataEvent"],[3,"rows","totalRecords","pageLinkSize","onPageChange"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),e._uU(5,"Employee List"),e.qZA()()(),e.TgZ(6,"div",4)(7,"app-default-grid",5),e.NdJ("modifyEvent",function(l){return o.edit(l)})("setDataEvent",function(){return o.url()}),e.qZA()(),e._UZ(8,"br"),e.TgZ(9,"div")(10,"p-paginator",6),e.NdJ("onPageChange",function(l){return o.paginate(l)}),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("cols",o.customModel.cols)("data",o.customModel.data)("hasGridDeleteButton",!1)("modifyButtonClass","p-button-primary p-button-rounded")("actionStyle",e.DdM(12,Ut))("hasBtnPull",!0)("isShrinkGridData",!0)("gridLoad",o.customModel.gridLoad)("hasBtnSetData",!0),e.xp6(3),e.Q6J("rows",null==o.pagination?null:o.pagination.ItemsPerPage)("totalRecords",null==o.pagination?null:o.pagination.TotalItems)("pageLinkSize",null==o.pagination?null:o.pagination.TotalPages))},directives:[T.o,ae.D],styles:[""]}),n})(),data:{title:"Employee-list"}},{path:"user-list",component:xt,data:{title:"User List"}}]},{path:"**",component:se.w,pathMatch:"full"}];let It=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(At)],u.Bz]}),n})();var Jt=d(8705);let St=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,It,Jt.r,te.O]]}),n})()}}]);